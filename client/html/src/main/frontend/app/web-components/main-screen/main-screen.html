<polymer-element name="main-screen" attributes="menuTitle mainTitle attr geoselection offset pagesize productscount textQuery filter">
    <link rel="import" href="routes.html">
    <link rel="import" href="../search-bar/search-bar.html">
    <link rel="import" href="../product-details/product-details.html">
    <link rel="import" href="../product-cart/product-cart.html">
    <link rel="import" href="../user-searches/user-searches.html">
    <link rel="import" href="../login-box/login-box.html">
    <link rel="import" href="../self-registration/self-registration.html">
    <link rel="import" href="../user-profile/user-profile.html">
    <link rel="import" href="../toast-manager/toast-manager.html">
    <link rel="import" href="../alert-manager/alert-manager.html">
    <link rel="import" href="../spinner-manager/spinner-manager.html">
    <link rel="import" href="../terms-conditions/terms-conditions.html">

    <link rel="import" href="../search-container/search-container.html">
    <link rel="import" href="../../libs/core-toolbar/core-toolbar.html">
    <link rel="import" href="../../libs/core-menu-button/core-menu-button.html">    
    <!--<link rel="import" href="../../libs/core-scaffold/core-scaffold.html">-->
    <link rel="import" href="../../libs/core-animated-pages/core-animated-pages.html">
    <link rel="import" href="../../libs/paper-shadow/paper-shadow.html">
    <link rel="import" href="../../libs/core-image/core-image.html">
    <link rel="import" href="../../libs/paper-input/paper-input.html">
    <link rel="import" href="../../libs/paper-input/paper-input-decorator.html">
    <template >
        <link rel="stylesheet" type="text/css" href="style.css">
        <!--<core-scaffold id="drawerPanel" forceNarrow="true" narrow="true" responsiveWidth="30000px" rightDrawer style="z-index: 9 !important">
            <core-header-panel navigation flex>
                <core-toolbar id="core_toolbar" hidden?="{{!isOpen}}">
                    MENU
                </core-toolbar>
                <core-route-selector>
                    <core-menu id="menuselector" valueattr="option" on-core-select="{{selectAction}}">
                        <a href="{{urlFor('search')}}" option="search">
                            <core-item label="Search" title="Search" route="search" icon="search"></core-item>
                        </a>
                        <a href="{{urlFor('upload')}}" option="upload">
                            <core-item label="Upload" title="Upload Products" route="upload" icon="file-upload"></core-item>
                        </a>
                        <a href="{{urlFor('profile')}}" option="profile">
                            <core-item label="Profile" title="Profile" route="profile" icon="settings"></core-item>
                        </a>
                        <a href="{{urlFor('logout')}}" option="logout">
                            <core-item label="Logout" title="Logout" route="logout" icon="exit-to-app"></core-item>
                        </a>
                        <a href="{{urlFor('selfregistration')}}" option="selfregistration">
                            <core-item label="Self-Registration" title="Self Registration" route="selfregistration" icon="account-circle"></core-item>
                        </a>
                        <a href="{{urlFor('cart')}}" option="cart">
                            <core-item label="Cart" title="Cart" route="cart" icon="shopping-cart"></core-item>
                        </a>
                    </core-menu>
                </core-route-selector>

            </core-header-panel>
            <span flex tool > -->
            <toast-manager></toast-manager>
            <alert-manager></alert-manager>            

            <core-toolbar >                          
              <div  horizontal layout flex>                
                <search-bar flex four attr="{{attr}}" geoselection="{{geoselection}}" pagesize="{{pagesize}}" offset="{{offset}}" productscount="{{productscount}}" textQuery="{{textQuery}}" filter="{{filter}}"></search-bar>                
                <div flex four class="maintitle">{{mainTitle}}</div> 
                <div flex four horizontal layout reverse>
                <!--<core-menu-button> --> 
                    <div one>                           
                        <paper-icon-button icon="language" id="dhusmenu" data-object="{{urlFor('search')}}" on-click="{{goToSearch}}" title="Map"></paper-icon-button> 
                    </div>                 
                    <!--<core-dropdown class="dropdown" layered halign="right" relatedTarget="{{$.dhusmenu}}">
                       <core-route-selector>
                            <core-menu id="menuselector" valueattr="option" on-core-select="{{selectAction}}">
                                <a href="{{urlFor('search')}}" option="search">
                                    <core-item label="Search" title="Search" route="search" icon="search"></core-item>
                                </a>                                
                                <a href="{{urlFor('profile')}}" option="profile" >
                                    <core-item label="Profile" title="Profile" route="profile" icon="settings"></core-item>
                                </a>
                                <a href="{{urlFor('logout')}}" option="logout" >
                                    <core-item label="Logout" title="Logout" route="logout" icon="exit-to-app"></core-item>
                                </a>
                                <a href="{{urlFor('selfregistration')}}" option="selfregistration">
                                    <core-item label="Self-Registration" title="Self Registration" route="selfregistration" icon="account-circle"></core-item>
                                </a>
                                <a href="{{urlFor('cart')}}" option="cart" >
                                    <core-item label="Cart" title="Cart" route="cart" icon="shopping-cart"></core-item>
                                </a>
                            </core-menu>
                        </core-route-selector>
                    </core-dropdown>-->
                    <!--</core-menu-button>-->
                  <login-box></login-box>
                  <core-image class="sized" sizing="contain" src="../../images/ESA_logo.png" ></core-image>
                  <core-image class="sized" sizing="contain" src="../../images/ec-logo_150.png" ></core-image>   

                </div>                
              </div>
              </core-toolbar>                 
           
            <div fit class="content" style="z-index: 0 !important">
                <more-route-selector>
                    <core-animated-pages id="pages">

                        <section route="search">
                            <search-container attr="{{attr}}" geoselection="{{geoselection}}" pagesize="{{pagesize}}" offset="{{offset}}" productscount="{{productscount}}" textQuery="{{textQuery}}" filter="{{filter}}"></search-container>
                        </section>

                        <section route="upload">
                            You have selected "Profile"
                        </section>

                        <section route="profile">
                            <user-profile></user-profile>
                        </section>

                        <section route="logout">
                            You have selected "Logout"
                        </section>

                        <section route="selfregistration">
                            <self-registration></self-registration>
                        </section>

                        <section route="cart">
                            <product-cart></product-cart>
                        </section>
                        <section route="terms">
                            <terms-conditions></terms-conditions>
                        </section>

                        <section route="savedsearches">
                            <user-searches attr="{{attr}}" pagesize="{{pagesize}}" offset="{{offset}}" productscount="{{productscount}}" textQuery="{{textQuery}}"></user-searches>
                        </section>

                    </core-animated-pages>
                </more-route-selector>
            </div>
        <!--</core-scaffold>-->
        <product-details ></product-details>
        <spinner-manager></spinner-manager>

    </template>
    <script src="script.js"></script>
    
</polymer-element>
