<link rel="import" href="../../libs/core-selector/core-selector.html">
<link rel="import" href="../../libs/core-dropdown/core-dropdown.html">
<link rel="import" href="../../libs/core-collapse/core-collapse.html">
<link rel="import" href="../../libs/core-collapse/core-collapse.html">


<polymer-element name="product-cart" >
	<template id="app" cart="{{cart}}">
		
	 	<link rel="stylesheet" type="text/css" href="style.css">
		 	<div vertical layout class="cartcontainer">
			 	<div flex one class="core-header">
				 	<template if="{{!data || data.length == 0 }}">	 		
				 			Your cart is empty	    	
					</template>
					<template if="{{data.length > 0 }}">
				 		Your cart contains {{cart.totalcount}} products. Display {{cart.firstInPage}} to {{cart.lastInPage}} of {{cart.totalcount}} products.	    	
					</template>
				</div>
				<div class="cartlist" flex ten>
					
			 	<core-selector id="cart" class="cart" flex selected="0">
				    <form id="cartForm" class="cartForm">
				    	<template class="cartTemplate" repeat = "{{model in data}}">	
			             
					      <div id="item-{{model.id}}" class="item" layout horizontal center>              			
							<core-image id="thumbnail-image" class="thumbnail-image"
						                  src="{{model.thumbnail}}"			      		
						                  placeholder="{{placeholder}}"            
						                  preload fade></core-image>					 			                  
						  	<div layout vertical flex>	
							
							  <span id ="from" class="from">{{model.title}}</span>		  			  
							  <span  ><a class="prodlink" href="{{model.link}}">{{model.link}}</a></span>
							  <span id ="modelbody" class="modelbody">{{model.summary}}</span>								  
						  	</div>
							  			  	
							  <paper-icon-button icon="search" title="View Product Details" data-object="{{model.id}}" on-click="{{showProductDetails}}"></paper-icon-button>				
							  <paper-icon-button icon="get-app" title="Download Product" data-object="{{model.link}}" on-click="{{downloadProduct}}"></paper-icon-button>
							  <paper-icon-button icon="serco:serco-cart-remove" title="Remove Product from Download Cart" data-object="{{model.cartid}}" on-click="{{removeProductFromCart}}"></paper-icon-button>
										
							                                 										
							                                                    
		                  </div>
						  		                  			  			  		          		       	            
			    		</template>
						</form>
				  </core-selector>		  				  		  	
			    </div>
			    <div  horizontal layout class="core-bar" flex one>
			    	<span class="selectpage">
				    	Page size: 
				    	<select id="pagination" on-change="{{updatePage}}">	
				    		<!--<option value="2">2</option>-->	        			        		   	
				    		<option value="25">25</option>
	             		 	<option value="50">50</option>		             		 	
	             		 	<option value="100">100</option>			           					
				      	</select>			     
			      	</span> 				    
			    	<span class="selectpage">
			    		<paper-icon-button icon="serco:chevron-double-left" class="chevron" disabled?="{{cart.currentPage <=1}}" data-object="0" on-click="{{goToPage}}"></paper-icon-button>
			    	</span>
			    	<span class="selectpage">
			    		<paper-icon-button  icon="serco:chevron-left" class="chevron" disabled?="{{cart.currentPage <=1}}" data-object="{{(cart.currentPage -2)}}" on-click="{{goToPage}}"></paper-icon-button>
			    	</span>
			    	<span id="currentCartPage" class="selectpage" hidden?="{{!data || data.length == 0}}"data-object="{{cart.currentPage-1}}">{{cart.currentPage}}</span>
			    	<span class="selectpage">
			    		<paper-icon-button  icon="serco:chevron-right" class="chevron" disabled?="{{cart.currentPage ==cart.numpages}}" data-object="{{(cart.currentPage)}}" on-click="{{goToPage}}"></paper-icon-button>
			    	</span>
			    	<span class="selectpage">
			    		<paper-icon-button icon="serco:chevron-double-right" class="chevron" disabled?="{{cart.currentPage ==cart.numpages}}" data-object="{{cart.numpages - 1}}" on-click="{{goToPage}}"></paper-icon-button>
			    	</span>
			    	<div flex></div>			    
				    <span class="spanbutton">
				    	<paper-button raised class="listbutton" on-click="{{downloadCart}}" disabled?="{{!data || data.length == 0}}">Download Cart</paper-button>
				    </span>
				    <span class="spanbutton">
				    	<paper-button raised class="listbutton" on-click="{{clearCart}}" disabled?="{{!data || data.length == 0}}">Clear Cart</paper-button>
				    </span>	 	
				</div>
		</div>
	</template>	

  	<script src="script.js"></script>
</polymer-element>
